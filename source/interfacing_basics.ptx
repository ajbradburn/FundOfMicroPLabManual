<?xml version='1.0' encoding='utf-8'?>
<!-- Chapters are enclosed with <chapter> tags. Use xml:id to -->
<!-- uniquely identify the chapter.  The @xmlns:xi atrowibute  -->
<!-- is needed if you use xi:include in this file             -->
<chapter xml:id="ch-first" xmlns:xi="http://www.w3.org/2001/XInclude">

  <!-- Title -->
  <xi:include href="./titles/interfacing_basics.ptx" />

  <!-- Introduction -->
  <xi:include href="./introductions/interfacing_basics.ptx" />

  <section>
    <p>
      Before we can start programming, and seeing the fruits of our labor on something other than a computer screen, it is necessary to attach our Raspberry Pi to peripherials. As you know, when working with elecrowonics, you have to be aware of the power limitations of the components you're working with. You have to design your circuits with this in mind.
    </p>
    <p>
      While the circuirowy of this lab isn't complicated, doing something incorrectly can result in damage to your Raspberry Pi. It is recommended that you check, and double check your work before powering up your Raspberry Pi.
    </p>
    <p>
      If you do any of your own design, make sure that you read up on the voltage, and current limits for each of the Raspberry Pi GPIO pins. Allowing too much current or voltage can easily cause damage.
    </p>
    <subsection>
      <title>
        The Design
      </title>
      <p>
        Our objective is to create a dice rolling circuit. We will provide user input through a momentary switch, and we will get output through LEDs. Our little computer will run a program that responds to a button push, generates a random number between 1 and 6, and then displays the value generated by illuminating a corresponding number of LEDs.
      </p>
      <p>
        I recommend that care be taken with the placement of the components, as the following lab will build upon this initial setup. Setting it up correctly the first time will save you the rowouble of rebuilding things.
      </p>
      <p>
        This is what we are aiming for:
      </p>
      <figure>
        <caption>The Completed Circuit</caption>
        <image source="photographs/interfacing_basics_bb.jpg">
          <description>A Raspberry Pi 3 with GPIO pins connected to an array of LEDs and a momentary switch.</description>
        </image>
      </figure>
      <figure>
        <caption>The Completed Circuit</caption>
        <image source="generated/interfacing_basics_bb">
          <description>A Raspberry Pi 3 with GPIO pins connected to an array of LEDs and a momentary switch.</description>
        </image>
      </figure>
      <figure>
        <caption>Circuit Schematic for Momentary Switch</caption>
        <image source="generated/interfacing_basics_img01">
          <description>A Raspberry Pi 3 with GPIO pins connected to an array of LEDs and a momentary switch.</description>
        </image>
      </figure>
      <figure>
        <caption>Circuit Schematic for LEDs</caption>
        <image source="generated/interfacing_basics_img02">
          <description>A Raspberry Pi 3 with GPIO pins connected to an array of LEDs and a momentary switch.</description>
        </image>
      </figure>
    </subsection>
    <subsection>
        <title>
          Required Equipment
        </title>
        <p>
          These are the required components.
        </p>
        <table>
          <tabular>
          <row>
            <cell>Amount</cell>
            <cell>Part Type</cell>
          </row>
          <row>
            <cell>1</cell>
            <cell>Breadboard</cell>
          </row>
          <row>
              <cell>1</cell>
              <cell>128x32 I2C Monochrome OLED Display</cell>
          </row>
          <row>
              <cell>1</cell>
              <cell>AHT20 Temperature and Humidity Sensor</cell>
          </row>
          <row>
              <cell>1</cell>
              <cell>Film/Foil Capacitor</cell>
          </row>
          <row>
              <cell>6</cell>
              <cell>Red LED</cell>
          </row>
          <row>
              <cell>6</cell>
              <cell>470Ω Resistor</cell>
          </row>
          <row>
              <cell>1</cell>
              <cell>10KΩ Resistor</cell>
          </row>
          <row>
              <cell>1</cell>
              <cell>Raspberry Pi 3</cell>
          </row>
          <row>
              <cell>1</cell>
              <cell>Pushbutton</cell>
          </row>
        </tabular>
      </table>
    </subsection>
    <subsection>
      <title>Raspberry Pi GPIO Connections</title>
      <p>
        In order to match the code that will follow, special care will be needed with matching the correct GPIO to the proper components.
      </p>
      <figure>
        <caption>Raspberry Pi 3 GPIO Pinout</caption>
        <image source="images/gpiopinsv3withpi">
          <description>The GPIO pinout for the Raspberry Pi 3.</description>
        </image>
      </figure>
      <table>
        <tabular>
          <row>
            <cell>GPIO Designation</cell>
            <cell>Header Pin</cell>
            <cell>Component</cell>
          </row>
          <row>
            <cell>GPIO25</cell>
            <cell>Pin 22</cell>
            <cell>Switch</cell>
          </row>
          <row>
            <cell>GPIO13</cell>
            <cell>Pin 33</cell>
            <cell>LED 1</cell>
          </row>
          <row>
            <cell>GPIO16</cell>
            <cell>Pin 36</cell>
            <cell>LED 2</cell>
          </row>
          <row>
            <cell>GPIO19</cell>
            <cell>Pin 35</cell>
            <cell>LED 3</cell>
          </row>
          <row>
            <cell>GPIO20</cell>
            <cell>Pin 38</cell>
            <cell>LED 4</cell>
          </row>
          <row>
            <cell>GPIO26</cell>
            <cell>Pin 37</cell>
            <cell>LED 5</cell>
          </row>
          <row>
            <cell>GPIO21</cell>
            <cell>Pin 40</cell>
            <cell>LED 6</cell>
          </row>
        </tabular>
      </table>
    </subsection>
  </section>
  <section>
    <title>
      Troubleshooting
    </title>
    <subsection>
      <title>
        Switch
      </title>
      <p>
        Double check the orientation of the switch. Pins 1 and 2 are connected to each other. Pins 3 and 4 are connected to each other. If the switch is oriented 90° in the wrong direction, you'll be short circuiting the switch, and pressing it will no produce any results.
      </p>
    </subsection>
    <subsection>
      <title>
        LEDs
      </title>
      <p>
        Double check the orientation of the LED. Because of their diode characteristics, having them reversed will prevent current from flowing through them, at the voltages we are using.
      </p>
    </subsection>

  </section>
</chapter>
