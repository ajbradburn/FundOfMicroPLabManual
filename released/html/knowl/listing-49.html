<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*       on 2022-04-12T09:19:05-04:00       *-->
<!--*   A recent stable commit (2020-08-09):   *-->
<!--* 98f21740783f166a773df4dc83cab5293ab63a4a *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<figure class="listing figure-like"><div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><pre class="program"><code class="language-none">167|  def display_temp():
168|    # Start a new timer.
169|    start_temp_timer()
170|
171|    # Read the temperature and display it.
172|    global default_font
173|    temperature = sensor.temperature
174|    humidity = sensor.relative_humidity
175|    oled_display.display_string('Inside: {:.2f}Â°F'.format(temperature * 9 / 5 + 32), default_font, 12)
176|
177|  def log_measurements():
178|    # Start a new timer.
179|    start_log_timer()
180|
181|    # Read temperature and humidity. Log it with the date/time to a file in csv format.
182|    global sensor
183|    temperature = sensor.temperature
184|    humidity = sensor.relative_humidity
185|    string = '\"{}\",{:.2f},{:.2f}\n'.format(datetime.now().strftime("%d/%m/%Y %H:%M:%S"), temperature, humidity)
186|    file = open('log.csv', 'a')
187|    file.write(string)
188|    file.close()
189|
190|  # A variable to hold the temp_timer so that we can reference it later, and cancel the timer when needed.
191|  temp_timer = None
192|
193|  start_log_timer()
194|  display_temp()
195|  start_forecast_timer()
</code></pre></div>
<figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">10.2.6<span class="period">.</span></span><span class="space"> </span></figcaption></figure><span class="incontext"><a href="section-40.html#listing-49">in-context</a></span>
</body>
</html>
